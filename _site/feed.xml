<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>我的博客</title>
    <description>php 野路子出身 终生学习 web开发 python
</description>
    <link>http://yourdomain.com/</link>
    <atom:link href="http://yourdomain.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 23 Apr 2018 16:55:23 +0800</pubDate>
    <lastBuildDate>Mon, 23 Apr 2018 16:55:23 +0800</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>关于数组排序的讨论</title>
        <description>&lt;h1 id=&quot;数组的排序&quot;&gt;数组的排序&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;问题: 如何对一个二维数组进行排序?&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;实现通过二维的一个字段进行排序&lt;/li&gt;
  &lt;li&gt;实现像sql一样排序,order by o1,o2,o3….,依次用o1进行排序,如果排序完成之后,再按o2的排序&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;php文档介绍-php的排序是基于快速排序实现这里只讨论php的函数以及包的应用&quot;&gt;php文档介绍 php的排序是基于快速排序实现,这里只讨论php的函数以及包的应用&lt;/h3&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # 要排序的数组
  $arr = [
      [&#39;id&#39;=&amp;gt;2,&#39;name&#39;=&amp;gt;&#39;e&#39;,&#39;age&#39;=&amp;gt;17],
      [&#39;id&#39;=&amp;gt;4,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;15],
      [&#39;id&#39;=&amp;gt;3,&#39;name&#39;=&amp;gt;&#39;b&#39;,&#39;age&#39;=&amp;gt;30],
      [&#39;id&#39;=&amp;gt;6,&#39;name&#39;=&amp;gt;&#39;f&#39;,&#39;age&#39;=&amp;gt;18],
      [&#39;id&#39;=&amp;gt;8,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;18],
  ];
  # 结果
  # 按id 升序排后的结果
  $arr_sort_by_id = [
    [&#39;id&#39;=&amp;gt;2,&#39;name&#39;=&amp;gt;&#39;e&#39;,&#39;age&#39;=&amp;gt;17],
    [&#39;id&#39;=&amp;gt;3,&#39;name&#39;=&amp;gt;&#39;b&#39;,&#39;age&#39;=&amp;gt;30],
    [&#39;id&#39;=&amp;gt;4,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;15],
    [&#39;id&#39;=&amp;gt;6,&#39;name&#39;=&amp;gt;&#39;f&#39;,&#39;age&#39;=&amp;gt;18],
    [&#39;id&#39;=&amp;gt;8,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;18],
  ];
  # 按 age 升序排后的结果
  $arr_sort_by_age = [
    [&#39;id&#39;=&amp;gt;4,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;15],
    [&#39;id&#39;=&amp;gt;2,&#39;name&#39;=&amp;gt;&#39;e&#39;,&#39;age&#39;=&amp;gt;17],
    [&#39;id&#39;=&amp;gt;6,&#39;name&#39;=&amp;gt;&#39;f&#39;,&#39;age&#39;=&amp;gt;18],
    [&#39;id&#39;=&amp;gt;8,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;18],
    [&#39;id&#39;=&amp;gt;3,&#39;name&#39;=&amp;gt;&#39;b&#39;,&#39;age&#39;=&amp;gt;30],
  ];
  # 先按age排 然后再根据id 降序 把排age中重复的
  $arr_sort_by_age_and_id = [
    [&#39;id&#39;=&amp;gt;4,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;15],
    [&#39;id&#39;=&amp;gt;2,&#39;name&#39;=&amp;gt;&#39;e&#39;,&#39;age&#39;=&amp;gt;17],
    [&#39;id&#39;=&amp;gt;8,&#39;name&#39;=&amp;gt;&#39;a&#39;,&#39;age&#39;=&amp;gt;18],
    [&#39;id&#39;=&amp;gt;6,&#39;name&#39;=&amp;gt;&#39;f&#39;,&#39;age&#39;=&amp;gt;18],
    [&#39;id&#39;=&amp;gt;3,&#39;name&#39;=&amp;gt;&#39;b&#39;,&#39;age&#39;=&amp;gt;30],
  ];

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;php数组排序的方法&quot;&gt;php数组排序的方法&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;array_multisort 排序多个数组,功能强大&lt;/li&gt;
  &lt;li&gt;usort 按用户自定义的函数排序&lt;/li&gt;
  &lt;li&gt;uksort 按用户自定义函数比较键名排序&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;usort-自定义函数&quot;&gt;usort 自定义函数&lt;/h3&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    function orderBy( $key,$order = SORT_ASC ) {
      return function ( $a, $b ) use( $key, $order ){
          if($order == SORT_ASC)  return $a[$key]&amp;gt;$b[$key];
          if($order == SORT_DESC) return $a[$key]&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;$b[$key];
      };
    }

    $test_id  = $arr; //数组不是对象,数组是按值传递 与js不同
    $test_age = $arr;
    usort($test_id, orderBy(&#39;id&#39;));
    usort($test_age, orderBy(&#39;age&#39;));
    var_dump($test_id === $arr); //false
    var_dump($test_id === $arr_sort_by_id); // true
    var_dump($test_age === $arr_sort_by_age); // true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4 id=&quot;usort-很好的解决了-order-by-1个字段的排序但如果面对多个字段将变得复杂&quot;&gt;usort 很好的解决了 order by 1个字段的排序,但如果面对多个字段将变得复杂&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;查找age的重复项数组&lt;/li&gt;
  &lt;li&gt;将重复的数组提取出来 保留原索引键,并且按id逆序排序&lt;/li&gt;
  &lt;li&gt;如果每一个字段都需要指定正序,倒序或者字符串的排序规则等,那么就会更加增加复杂度&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;function orderByKeys(...$key){
   foreach($key as $i=&amp;gt;$item){
    return function($a, $b) use($key, $i) {
      if($a[$key[$i]]&amp;gt;$b[$key[$i]]){
        return true;
      }
      if($a[$key[$i]] == $b[$key[$i]]) {
        if(isset($key[$i+1])){
          return $a[$key[$i+1]] &lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt; $b[$key[$i+1]];
        }
      }
    };
  }
}
$test_order_by_keys = $arr;
usort($test_order_by_keys, orderByKeys(&#39;age&#39;, &#39;id&#39;));
var_dump($test_order_by_keys === $arr_sort_by_age_and_id);//true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;内置函数-array_multisort-解决方案更加强大和清晰&quot;&gt;内置函数 array_multisort 解决方案,更加强大和清晰&lt;/h3&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $arr_multisort = $arr;
  $sortedAge = array_column($arr_multisort, &#39;age&#39;);
  $sortedId  = array_column($arr_multisort, &#39;id&#39;);
  array_multisort(
    $sortedAge, SORT_ASC,
    $sortedId, SORT_DESC,
    // .... 更多字段的order by
    $arr_multisort);
  var_dump($arr_multisort === $arr_sort_by_age_and_id);//true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;illuminatesupportcollection包-collection-集合对象的方法&quot;&gt;Illuminate\Support\Collection包 Collection 集合对象的方法&lt;/h2&gt;
&lt;h3 id=&quot;简介&quot;&gt;简介&lt;/h3&gt;
&lt;p&gt;laravel框架中内置了Collection类,将Model调用的数据打包成一个对象,对象中集成了很多常用的处理数据的方法,如 every  集合对象真理测试,filter过滤,where查找,sort,group,json,contain,has等方法.&lt;/p&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    $user= User::where($conditions)-&amp;gt;get();// 从数据库取出打包成Collection 对象
    // Eloquent where之后在Collection类中还可以再一次处理
    $result = $user-&amp;gt;where($conditions_else)-&amp;gt;when($when)-&amp;gt;toJson();

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;laravel是由一个一个包组合成的框架-很多包依赖较低可以在工程中直接引用&quot;&gt;laravel是由一个一个包组合成的框架, 很多包依赖较低,可以在工程中直接引用&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  composer require illuminate/support
  # support 包含了很多可复用的方法  Collection是其中之一 还有字符串和数组方法
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;使用方法&quot;&gt;使用方法&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;使用collection类
    &lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  require &#39;vendor/autoload.php&#39;;
  use Illuminate\Support\Collection;
  $collect = new Collection($arr); // 获得一个collection对象
  $test_by_id = $collect-&amp;gt;sortBy(&#39;id&#39;)-&amp;gt;values()-&amp;gt;all();
  // sortBy 底层采用asort排序,默认不会改变索引,values() 重置索引 ,all()取出数组
  $test_by_age = $collect-&amp;gt;sortBy(&#39;age&#39;)-&amp;gt;values()-&amp;gt;all();
  var_dump($test_by_id===$arr_sort_by_id);
  var_dump($test_by_age===$arr_sort_by_age);
  #collection 没有支持orderBy 多个字段
&lt;/code&gt;&lt;/pre&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;使用helpers.php里面的函数方法 (包含68个常用方法)&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # package.json
  ...
    &quot;autoload&quot;:{
      &quot;files&quot;:&quot;vendor/illuminate/support/helpers.php&quot;
    }
  ...

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;composer dump-auto &lt;/code&gt; //重新生成autoload.php 文件&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;require &#39;vendor/autoload.php&#39;;
//$test_by_id = array_sort($arr,&#39;id&#39;);//array_sort 内部调用 collection 方法但是不改变索引
//$test_by_id = array_sort($arr,&#39;age&#39;);
$collect = collect($arr);
//...
$test_by_id = $collect-&amp;gt;sortBy(&#39;id&#39;)-&amp;gt;values()-&amp;gt;all();
$test_by_age = $collect-&amp;gt;sortBy(&#39;age&#39;)-&amp;gt;values()-&amp;gt;all();
var_dump($test_by_id === $arr_sort_by_id);
var_dump($test_by_age === $arr_sort_by_age);

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;总结&quot;&gt;总结&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;可以在SQL中直接完成排序再取出数据使用,如果必要的话.&lt;/li&gt;
  &lt;li&gt;框架使用的是uasort/ usort /asort 实现排序
    &lt;ul&gt;
      &lt;li&gt;如果没有使用框架,原生的uasort可以满足order by 1个字段,order by 多个字段需要测试检验&lt;/li&gt;
      &lt;li&gt;使用库或者框架,建议使用 sortBy,名称具有语义,laravel获取的对象自带该方法,且经过了测试&lt;/li&gt;
      &lt;li&gt;多个order 排序建议使用,array_multisort来进行,灵活而且强大,或者数据库排序&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 23 Apr 2018 12:10:58 +0800</pubDate>
        <link>http://yourdomain.com/php/2018/04/23/array_sort.html</link>
        <guid isPermaLink="true">http://yourdomain.com/php/2018/04/23/array_sort.html</guid>
        
        <category>工具</category>
        
        
        <category>php</category>
        
      </item>
    
      <item>
        <title>gulp排错</title>
        <description>&lt;h2 id=&quot;使用gulp40坑&quot;&gt;使用gulp4.0坑&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;gulp-util is deprecated 弃用&lt;/li&gt;
  &lt;li&gt;gulp-cli需要使用4.0 gulp&lt;/li&gt;
  &lt;li&gt;task需要done()或文档的返回方式,否则
    [16:20:22] The following tasks did not complete: default, webpack
    [16:20:22] Did you forget to signal async completion?&lt;/li&gt;
  &lt;li&gt;task方法有变化,[task1,task2] 废弃,gulp.series(task1,task2,[callback],gulp.parallel(task1,task2,[callback]) 排队执行和异步(同时)执行&lt;/li&gt;
  &lt;li&gt;es6解构前面一定要有分号 ;&lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Fri, 13 Apr 2018 23:10:58 +0800</pubDate>
        <link>http://yourdomain.com/js/2018/04/13/gulp.html</link>
        <guid isPermaLink="true">http://yourdomain.com/js/2018/04/13/gulp.html</guid>
        
        <category>前端工具</category>
        
        
        <category>js</category>
        
      </item>
    
      <item>
        <title>开篇</title>
        <description>&lt;h1 id=&quot;学习的方法&quot;&gt;学习的方法&lt;/h1&gt;
&lt;p&gt;昨天在网上看到了一篇文章,讲的是一个国外60岁的一个程序员总结学习方法.他从事软件开发30多年,每天都在学习和总结.
 我感触极深,比你优秀的人,付出着你想象不到的努力,而愈加的优秀.而自己所谓的努力却不值一提.&lt;/p&gt;

&lt;h2 id=&quot;stay-foolish&quot;&gt;stay foolish&lt;/h2&gt;
&lt;p&gt;刚开始学习编程的时候,总是非常喜欢尝试,当屏幕输出’hello world’时非常的兴奋.对视频,书籍各种资源特别感兴趣,总
希望能找到一本秘籍,速成绝世武功.&lt;br /&gt;
但是看书不能浅尝辄止,每个作者呕心沥血总结的成果不是那么轻松得能够参透.并且大脑总会欺骗自己,在眼前经常出现的东西,
就以为是熟悉的东西.不知道那句”stay hungry,stay foolish”,hungry 做到了,希望大量的取摄取知识,但是foolish
却需要放空自己.你真的了解php,你html/css真的学会了精通了吗,js真的掌握了? 你会写几个demo,看了几遍手册,源码原理
了解多少?你能快速建立一个系统吗?当我这样反问自己,不禁心里一寒.&lt;/p&gt;

&lt;p&gt;从前听说不会先理解了再去学就可以了,不知道的函数,常用的模块只要知道的keyword就可以了,到要用的时候再去翻手册,把
精力放在重要的地方.经历了这些,现在看来,这样的想法实在是本末倒置.理解,需要很高的智慧,我们大多数都是普普通通的人,
做不到所谓的先理解.理工科的东西一样需要去记忆,只有记下来了,在脑海里面不断的复盘,慢慢的才会有新的创造产生.我在想
如果下一份工作的压力非常大,每次编码还需要去为一些功能函数不停的去查找手册,或者为一些常见的功能不断的百度google,
那样的效率能值得起老板给的工资吗?语言的学习,本质就是在记忆和不断的练习.外语是这样,计算机语言作为一门沟通机器的
语言,也同样如此吧.&lt;/p&gt;

&lt;h2 id=&quot;review&quot;&gt;review&lt;/h2&gt;
&lt;p&gt;那个爷爷级别的程序,每天都要去反思和温习自己的笔记.而自己很多时候看的书,写的东西往往是过一遍就放下了.没有主动去复习.
这就是自学的最大弊端,总把问题想得很简单.看到别人做的,感觉很简单.那么,关上视频,关上书本,断网,自己把那些简单的东西
做出来.&lt;/p&gt;

&lt;h2 id=&quot;knowledge-hierarchy&quot;&gt;knowledge hierarchy&lt;/h2&gt;
&lt;p&gt;方向非常重要.每天的忙碌不知道为什么?总感觉自己什么都懂点但是又什么都不会?没有一套完整的知识体系,各种零散的信息,干扰的
因素充斥自己的时间,像个无头的苍蝇.招聘网站的职位信息是唯一的方向,每次看到对的工作,都会鼓励振奋自己向那个方向发展.&lt;/p&gt;

&lt;h2 id=&quot;time&quot;&gt;time&lt;/h2&gt;
&lt;p&gt;永远都未没有利用好时间感到焦虑.总认为学习的时间和学到的东西成正比,但是忽略的一个转化率.想通一件事件的一瞬间,也许比苦苦熬了
几天都要宝贵.&lt;/p&gt;

&lt;h2 id=&quot;record&quot;&gt;record&lt;/h2&gt;
&lt;p&gt;我要为这个世界留下些什么,或者让以后的自己能够通过这些记录想起当时的自己.&lt;/p&gt;

&lt;p&gt;-2018.4.12,沙井&lt;/p&gt;

</description>
        <pubDate>Thu, 12 Apr 2018 21:47:58 +0800</pubDate>
        <link>http://yourdomain.com/life/2018/04/12/first-article.html</link>
        <guid isPermaLink="true">http://yourdomain.com/life/2018/04/12/first-article.html</guid>
        
        <category>方法</category>
        
        
        <category>life</category>
        
      </item>
    
      <item>
        <title>Welcome to Jekyll!</title>
        <description>&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;highlighter-rouge&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &#39;Hi, Tom&#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;http://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;

</description>
        <pubDate>Thu, 12 Apr 2018 20:59:58 +0800</pubDate>
        <link>http://yourdomain.com/jekyll/update/2018/04/12/welcome-to-jekyll.html</link>
        <guid isPermaLink="true">http://yourdomain.com/jekyll/update/2018/04/12/welcome-to-jekyll.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
  </channel>
</rss>
